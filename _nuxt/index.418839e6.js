var V=Object.defineProperty;var N=(n,s,e)=>s in n?V(n,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[s]=e;var m=(n,s,e)=>(N(n,typeof s!="symbol"?s+"":s,e),e);import{a as h,r as $,o as l,b as c,e as t,w as v,v as f,u as i,f as x,t as A,F as b,h as P,c as w,i as D,j as k,d as K,_ as L,k as y,l as S,m as R}from"./entry.a1ba4f1d.js";import{u as g,a as C}from"./state.3bc6624c.js";const B={class:"field"},E=t("label",{class:"label"},"Application Name",-1),F={class:"control"},T={class:"field"},U=t("label",{class:"label"},"Public data",-1),z={class:"control"},M={class:"field"},j=t("label",{class:"label"},"Sensitive data",-1),I={class:"control"},O={id:"submit",class:"field"},q={class:"control"},G=["disabled"],H={key:0,class:"notification is-warning"},J={key:1},Q={id:"public-key"},W=h({__name:"form",setup(n){class s{constructor(){m(this,"name","");m(this,"public_data","");m(this,"sensitive_data","")}get isValid(){return this.name.length>0&&this.public_data.length>0&&this.sensitive_data.length>0}}const e=$(new s),{addNewApp:_}=g(),o=C();async function u(){await _(e.value,o.value.publicKey),e.value=new s}function d(){e.value=new s}return(r,a)=>(l(),c(b,null,[t("section",null,[t("div",B,[E,t("div",F,[v(t("input",{"onUpdate:modelValue":a[0]||(a[0]=p=>i(e).name=p),class:"input",type:"text"},null,512),[[f,i(e).name]])])]),t("div",T,[U,t("div",z,[v(t("input",{"onUpdate:modelValue":a[1]||(a[1]=p=>i(e).public_data=p),class:"input",type:"text"},null,512),[[f,i(e).public_data]])])]),t("div",M,[j,t("div",I,[v(t("input",{"onUpdate:modelValue":a[2]||(a[2]=p=>i(e).sensitive_data=p),class:"input",type:"text"},null,512),[[f,i(e).sensitive_data]])])]),t("div",O,[t("div",q,[t("button",{class:"button",onClick:d}," Clear "),t("button",{class:"button is-primary",disabled:!i(e).isValid||!i(o).publicKey,onClick:u}," Submit new ",8,G)])])]),t("section",null,[i(o).publicKey?(l(),c("p",J,[x(" public key: "),t("span",Q,A(i(o).publicKey.substring(0,20)+" ..."),1),x(" is used for encryption. ")])):(l(),c("p",H,' "public key" has not been set to encrypt application. '))])],64))}});const X={};function Y(n,s){const e=W;return l(),w(e)}const Z=P(X,[["render",Y]]),tt={class:"table is-fullwidth"},et=t("caption",{class:"title is-5"},"received applications",-1),st=t("thead",null,[t("tr",null,[t("th",null,"App name"),t("th")])],-1),nt=["onClick"],it=h({__name:"ApplicationList",emits:["selected"],setup(n,{emit:s}){const{apps:e}=g();function _(o){s("selected",o)}return(o,u)=>(l(),c("table",tt,[et,st,t("tbody",null,[(l(!0),c(b,null,D(i(e),d=>(l(),c("tr",null,[t("td",null,A(d.name),1),t("td",null,[t("a",{class:"button is-small",onClick:r=>_(d)}," show ",8,nt)])]))),256))])]))}}),ot=K(()=>L(()=>import("./ApplicationDetail.e53221fb.js"),["./ApplicationDetail.e53221fb.js","./entry.a1ba4f1d.js","./state.3bc6624c.js","./ApplicationDetail.a1e2c1da.css"],import.meta.url).then(n=>n.default||n)),lt=h({__name:"Page",setup(n){const s=$(null);function e(){return s.value!==null}function _(u){s.value=u}function o(){s.value=null}return(u,d)=>{const r=it,a=ot;return l(),c(b,null,[e()?k("",!0):(l(),w(r,{key:0,onSelected:_})),e()?(l(),w(a,{key:1,app:i(s),onClosed:o},null,8,["app"])):k("",!0)],64)}}}),at={class:"tile is-ancestor"},ct={class:"tile is-parent"},_t={class:"tile is-child box"},ut=t("h2",{class:"title"},"Applicant",-1),dt={class:"tile is-parent"},pt={class:"tile is-child box"},rt=t("h2",{class:"title"},"Reviewer",-1),mt=t("button",{class:"button"},"Key Management",-1),ft=h({__name:"index",setup(n){return C(),(s,e)=>{const _=Z,o=lt,u=R;return l(),c(b,null,[t("div",at,[t("div",ct,[t("article",_t,[ut,y(_)])]),t("div",dt,[t("article",pt,[rt,y(o)])])]),t("div",null,[y(u,{to:"keymanagement"},{default:S(()=>[mt]),_:1})])],64)}}});export{ft as default};
